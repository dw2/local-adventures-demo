// Generated by CoffeeScript 1.6.2
(function() {
  jQuery(document).ready(function($) {
    var $page, adventure, description, imgPath, map, _i, _len, _results;

    $page = $('#pageMap');
    $page.on('click', 'aside .icon', function() {
      return $(this).toggleClass('checked');
    });
    map = L.mapbox.map('map', 'localadventures.map-bunqpdpm');
    imgPath = 'http://localadventures.co/images/adventures';
    _results = [];
    for (_i = 0, _len = adventures.length; _i < _len; _i++) {
      adventure = adventures[_i];
      description = adventure.description;
      if (!!adventure.hasImage) {
        description = "<img src='" + imgPath + "/" + adventure.id + ".jpg' alt=''/>" + description;
      }
      console.log(description);
      _results.push(L.mapbox.markerLayer({
        type: 'Feature',
        geometry: {
          type: 'Point',
          coordinates: [adventure.location.lon, adventure.location.lat]
        },
        properties: {
          title: adventure.name,
          description: description,
          'marker-size': 'medium',
          'marker-color': '#F08166'
        }
      }).addTo(map));
    }
    return _results;
  });

}).call(this);
